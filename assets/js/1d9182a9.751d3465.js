(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{121:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return i})),a.d(t,"toc",(function(){return s})),a.d(t,"default",(function(){return l}));var n=a(3),o=a(7),r=(a(0),a(247)),c={title:"Using Vorpal with Wechaty"},i={unversionedId:"tutorials/using-vorpal-with-wechaty",id:"tutorials/using-vorpal-with-wechaty",isDocsHomePage:!1,title:"Using Vorpal with Wechaty",description:"Wechaty Vorpal",source:"@site/docs/tutorials/using-vorpal-with-wechaty.md",sourceDirName:"tutorials",slug:"/tutorials/using-vorpal-with-wechaty",permalink:"/docs/tutorials/using-vorpal-with-wechaty",editUrl:"https://github.com/wechaty/wechaty.js.org/edit/master/docusaurus/docs/tutorials/using-vorpal-with-wechaty.md",version:"current",lastUpdatedBy:"Joseph Mawa",lastUpdatedAt:1619714999,formattedLastUpdatedAt:"4/29/2021",frontMatter:{title:"Using Vorpal with Wechaty"},sidebar:"docs",previous:{title:"Using Plugin with Wechaty",permalink:"/docs/tutorials/using-plugin-with-wechaty"},next:{title:"Using Redux with Wechaty",permalink:"/docs/tutorials/using-redux-with-wechaty"}},s=[{value:"Try out the bot",id:"try-out-the-bot",children:[]},{value:"Requirements",id:"requirements",children:[]},{value:"Usage",id:"usage",children:[]},{value:"Getting started",id:"getting-started",children:[{value:"1. Clone the repository",id:"1-clone-the-repository",children:[]},{value:"2. Install dependencies",id:"2-install-dependencies",children:[]},{value:"3. Run the bot",id:"3-run-the-bot",children:[]}]},{value:"Bot demo",id:"bot-demo",children:[]}],p={toc:s};function l(e){var t=e.components,c=Object(o.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},p,c,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,Object(r.b)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty-vorpal"},Object(r.b)("img",{parentName:"a",src:"https://img.shields.io/badge/Wechaty-Vorpal-brightgreen.svg",alt:"Wechaty Vorpal"})),"\n",Object(r.b)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty-vorpal/actions?query=workflow%3ANPM"},Object(r.b)("img",{parentName:"a",src:"https://github.com/wechaty/wechaty-vorpal/workflows/NPM/badge.svg",alt:"NPM"})),"\n",Object(r.b)("a",{parentName:"p",href:"https://www.npmjs.com/package/wechaty-vorpal"},Object(r.b)("img",{parentName:"a",src:"https://img.shields.io/npm/v/wechaty-vorpal?color=brightgreen",alt:"NPM Version"}))),Object(r.b)("p",null,"Extensible Interactive CLI Plugin for Wechaty ChatOps, Powered by Vorpal."),Object(r.b)("p",null,Object(r.b)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty-vorpal"},Object(r.b)("img",{parentName:"a",src:"https://wechaty.github.io/wechaty-vorpal/images/wechaty-vorpal.png",alt:"Wechaty Vorpal"}))),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"Image: ",Object(r.b)("a",{parentName:"p",href:"http://pixelartmaker.com/art/3008b950f5ab168"},"rainbow sword"))),Object(r.b)("p",null,Object(r.b)("a",{parentName:"p",href:"https://github.com/Wechaty/wechaty"},Object(r.b)("img",{parentName:"a",src:"https://img.shields.io/badge/Powered%20By-Wechaty-brightgreen.svg",alt:"Powered by Wechaty"})),"\n",Object(r.b)("a",{parentName:"p",href:"https://www.typescriptlang.org/"},Object(r.b)("img",{parentName:"a",src:"https://img.shields.io/badge/%3C%2F%3E-TypeScript-blue.svg",alt:"TypeScript"}))),Object(r.b)("h2",{id:"try-out-the-bot"},"Try out the bot"),Object(r.b)("p",null,Object(r.b)("a",{parentName:"p",href:"https://codesandbox.io/s/github/sbis04/vorpal-wechaty-hackernews/tree/main/?fontsize=12&hidenavigation=1&module=%2Fvorpal-bot.ts&theme=dark"},Object(r.b)("img",{parentName:"a",src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit vorpal-wechaty-hackernews"}))),Object(r.b)("p",null,"You can try out the ",Object(r.b)("strong",{parentName:"p"},"Vorpal Hacker News")," chat bot using this interactive CodeSandbox."),Object(r.b)("p",null,"Just scan the generated QR code with ",Object(r.b)("strong",{parentName:"p"},"WeChat")," app, and you are ready to play with the bot!"),Object(r.b)("iframe",{class:"codesandbox",src:"https://codesandbox.io/embed/github/sbis04/vorpal-wechaty-hackernews/tree/main/?fontsize=12&hidenavigation=1&module=%2Fvorpal-bot.ts&theme=dark",title:"vorpal-wechaty-hackernews",sandbox:"allow-forms allow-modals allow-popups allow-same-origin allow-scripts"}),Object(r.b)("h2",{id:"requirements"},"Requirements"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("a",{parentName:"li",href:"https://nodejs.org/en/download"},"Node.js")," v12+"),Object(r.b)("li",{parentName:"ol"},Object(r.b)("a",{parentName:"li",href:"https://github.com/wechaty/wechaty"},"Wechaty")," v0.40+"),Object(r.b)("li",{parentName:"ol"},Object(r.b)("a",{parentName:"li",href:"https://github.com/wechaty/wechaty-vorpal"},"WechatyVorpal")," v0.2+")),Object(r.b)("h2",{id:"usage"},"Usage"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-ts"},"import { Wechaty }        from 'wechaty'\nimport { WechatyVorpal }  from 'wechaty-vorpal'\nconst hackerNews = require('vorpal-hacker-news')\n\nconst wechaty = new Wechaty()\n\nwechaty.use(\n  WechatyVorpal({\n    use: hackerNews,\n  }),\n)\n\nwechaty.start()\n")),Object(r.b)("p",null,"See: ",Object(r.b)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty-vorpal-contrib"},"wechaty-vorpal-contrib")," for more Wechaty Vorpal Extension CLI for Chatbots."),Object(r.b)("h2",{id:"getting-started"},"Getting started"),Object(r.b)("p",null,"In this tutorial you will learn how to use ",Object(r.b)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty-vorpal"},"Vorpal")," with ",Object(r.b)("a",{parentName:"p",href:"https://wechaty.js.org/"},"Wechaty")," to build a ",Object(r.b)("a",{parentName:"p",href:"https://news.ycombinator.com/"},"Hacker News")," chat bot."),Object(r.b)("p",null,"Before getting started, make sure you have ",Object(r.b)("inlineCode",{parentName:"p"},"Node.js")," installed on your system. If you do not have ",Object(r.b)("inlineCode",{parentName:"p"},"Node.js")," installed (or have a version below 12), then you need to install the latest version of ",Object(r.b)("inlineCode",{parentName:"p"},"Node.js")," by following the links below:"),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",{parentName:"div",className:"admonition-heading"},Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",{parentName:"h5",className:"admonition-icon"},Object(r.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(r.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Node.js installation docs")),Object(r.b)("div",{parentName:"div",className:"admonition-content"},Object(r.b)("ul",{parentName:"div"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"https://nodejs.org/en/download/package-manager/#windows"},"Windows")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"https://nodejs.org/en/download/package-manager/#debian-and-ubuntu-based-linux-distributions"},"Linux","(","Debian/Ubuntu",")")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"https://nodejs.org/en/download/package-manager/#macos"},"macOS"))),Object(r.b)("blockquote",{parentName:"div"},Object(r.b)("p",{parentName:"blockquote"},"Installation guide for ",Object(r.b)("inlineCode",{parentName:"p"},"Node.js")," on other platforms can be found ",Object(r.b)("a",{parentName:"p",href:"https://nodejs.org/en/download/package-manager/"},"here"),".")))),Object(r.b)("h3",{id:"1-clone-the-repository"},"1. Clone the repository"),Object(r.b)("p",null,"Use the following commands to clone the ",Object(r.b)("a",{parentName:"p",href:"https://github.com/sbis04/vorpal-wechaty-hn"},"GitHub repository")," and navigate to the directory:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/sbis04/vorpal-wechaty-hn\ncd vorpal-wechaty-hn\n")),Object(r.b)("h3",{id:"2-install-dependencies"},"2. Install dependencies"),Object(r.b)("p",null,"You can install the ",Object(r.b)("inlineCode",{parentName:"p"},"npm")," packages required for running the bot, using this command:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-sh"},"npm install\n")),Object(r.b)("h3",{id:"3-run-the-bot"},"3. Run the bot"),Object(r.b)("p",null,"First, you have to ",Object(r.b)("inlineCode",{parentName:"p"},"export/set")," the environment variables, and then you can run the bot:"),Object(r.b)("h4",{id:"linuxmacos"},"Linux/macOS"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-bash"},"export WECHATY_LOG=verbose\nexport WECHATY_PUPPET=wechaty-puppet-wechat\n# If you want to use WhatsApp\n# export WECHATY_PUPPET=wechaty-puppet-whatsapp\nnpm start\n")),Object(r.b)("h4",{id:"windows"},"Windows"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-bash"},"set WECHATY_LOG=verbose\nset WECHATY_PUPPET=wechaty-puppet-wechat\n# If you want to use WhatsApp\n# set WECHATY_PUPPET=wechaty-puppet-whatsapp\nnpm start\n")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"There are various ",Object(r.b)("strong",{parentName:"p"},"Wechaty puppets")," available, you can know more about them ",Object(r.b)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty-getting-started#working-with-different-puppets"},"here"),".")),Object(r.b)("p",null,"Now, the bot is ready. Scan the QR code using WeChat or WhatsApp (according to the puppet you have used), and you are ready to start playing with the bot."),Object(r.b)("h2",{id:"bot-demo"},"Bot demo"),Object(r.b)("p",null,Object(r.b)("img",{alt:"Wechaty Vorpal Hacker News",src:a(336).default})),Object(r.b)("p",null,"Some of the commands that you can try out with the bot are as follows:"),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"help")),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-sh"},"Commands:\n\n    help [command...]       Provides help for a given command.\n    exit                    Exits application.\n    hacker-news [options]   Lists the top stories on hacker news.\n")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"help hacker-news")),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-sh"},"Usage: hacker-news [options]\n\n  Lists the top stories on hacker news.\n\n  Options:\n\n    --help              output usage information\n    -l, --length [amt]  Limits the list to a given length.\n")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"hacker-news --length 3")),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-sh"},"Pulling top 3 stories on Hacker News:\n\n  1. Discovering Dennis Ritchies Lost Dissertation (org)\n     93 points by beefhash 3 hours ago | 23 comments\n\n  2. Updating the Git protocol for SHA-256 (net)\n     81 points by chmaynard 14 hours ago | 48 comments\n\n  3. Mac OS X Leopard and Xcode on iPad Pro (com)\n     134 points by tosh 10 hours ago | 28 comments\n")))}l.isMDXComponent=!0},247:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return d}));var n=a(0),o=a.n(n);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var p=o.a.createContext({}),l=function(e){var t=o.a.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},b=function(e){var t=l(e.components);return o.a.createElement(p.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},u=o.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),b=l(a),u=n,d=b["".concat(c,".").concat(u)]||b[u]||h[u]||r;return a?o.a.createElement(d,i(i({ref:t},p),{},{components:a})):o.a.createElement(d,i({ref:t},p))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,c=new Array(r);c[0]=u;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:n,c[1]=i;for(var p=2;p<r;p++)c[p]=a[p];return o.a.createElement.apply(null,c)}return o.a.createElement.apply(null,a)}u.displayName="MDXCreateElement"},336:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/wechaty-vorpal-hacker-news-682c0496b037f87a4ce61b08820b8be5.png"}}]);